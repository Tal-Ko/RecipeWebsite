<!DOCTYPE html>
<html>
<title>
מתכונים מהממים
</title>
<head>
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>
<body>
	<div class="navbar">
		<a href="index.html#Starters">Starters</a>
		<a href="index.html#Main">Main Dishes</a>
		<a href="index.html#Desserts">Desserts</a>
	</div>

	<div>
		<div id="starters">

		</div>
		<div id="mains">

		</div>
		<div id="desserts">

		</div>
		
		<!-- content -->
		<div>
		
		</div>

		<button class="w3-button w3-display-left" onclick="plusDivs(-1)">&#10094;</button>
		<button class="w3-button w3-display-right" onclick="plusDivs(+1)">&#10095;</button>
	</div>

	<script src="recipes_data.js"></script>
	<script>
	function createElements(id, items) {
		var div = document.getElementById(id);

		for (var i = 0; i < items.length; i++) {
			var item = items[i];

			// Create div with class slides
			var inner_div = document.createElement("div");
			inner_div.setAttribute("class", "slides");

			// Create image within
			var img = document.createElement("img");
			img.setAttribute("src", "resources/recipes/" + item);
			inner_div.appendChild(img);

			// TODO: Add content

			// Add to div we found at the start
			div.appendChild(inner_div);
		}
	}

	createElements("starters", starter_images);
	createElements("mains", main_images);
	createElements("desserts", dessert_images);
	</script>

	<script>
		var url_string = window.location.href;
		var url = new URL(url_string);
		var slide_index = parseInt(url.searchParams.get("slide-index"));
		showDivs(slide_index, url.searchParams.get("category"));

		// Advance the images in the rotation
		function plusDivs(n) {
			showDivs(slide_index += n, url.searchParams.get("category"));
		}

		function showDivs(n, id) {
			var i;

			// Find the div we're working on by the given id
			var div = document.getElementById(id);

			// Inside that div, find the slides we're rotating
			var x = div.getElementsByClassName("slides");
			if (n > x.length) {
				slide_index = 1;
			} else if (n < 1) {
				slide_index = x.length;
			}

			// Hide the divs we're not interested in at the moment
			for (i = 0; i < x.length; i++) {
				x[i].style.display = "none";
			}

			// Show the one with the matching slideIndex
			x[slide_index - 1].style.display = "flex";
		}
	</script>
</body>
</html>
